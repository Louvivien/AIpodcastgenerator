<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Podcast Generator</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1 class="my-4">Podcast Generator</h1>

        <!-- Section 1: Send content for the podcast -->
        <div class="my-4">
            <h2>Send content for the podcast</h2>
            <div class="form-group">
                <label for="contentInput">Copy paste here what you want the podcast to be about</label>
                <textarea class="form-control" id="contentInput" rows="3"></textarea>
            </div>
            <button id="sendBtn" class="btn btn-primary">Send</button>
        </div>

        <!-- Section 2: Content added for the podcast -->
        <div class="my-4">
            <h2>Content added for the podcast</h2>
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Content</th>
                    </tr>
                </thead>
                <tbody id="contentTable">
                </tbody>
            </table>
        </div>

        <!-- Section 3: Generate the podcast -->
        <div class="my-4">
            <h2>Generate the podcast</h2>
            <button id="generateBtn" class="btn btn-primary">Generate podcast</button>
            <div id="podcastLink" class="mt-3"></div>
        </div>
    </div>

    <!-- Bootstrap JS and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function() {
            var contentCount = 0;
    
            $('#sendBtn').click(function(e) {
                e.preventDefault();
                var content = $('#contentInput').val();
                if (content) {
                    $.ajax({
                        url: '/send_content',
                        type: 'POST',
                        data: JSON.stringify({ 'content': content }),
                        contentType: 'application/json;charset=UTF-8',
                        success: function(response) {
                            contentCount++;
                            $('#contentTable').append('<tr><th scope="row">' + contentCount + '</th><td>' + content + '</td></tr>');
                            $('#contentInput').val('');
                        }
                    });
                }
            });
    
            $('#generateBtn').click(function() {
                $('#podcastLink').html('<a href="podcast.mp3">Here is the link of your podcast: podcast.mp3</a>');
            });
        });
    </script>
    
</body>
</html>
